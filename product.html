<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <link rel="stylesheet" href="src/css/main.css">
    <style>
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 0.8rem; /* reduced gap */
            padding: 0.8rem; /* reduced padding */
        }
        .product-item {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 0.4rem; /* reduced padding */
            text-align: center;
            background: #fff;
            position: relative;
            overflow: hidden;
        }
        .product-item img {
            width: 25%; /* reduced further from 50% to 25% */
            height: auto;
            border-radius: 5px;
            display: block;
            margin: auto;
        }
        .product-image-container {
            position: relative;
            overflow: hidden;
        }
        .product-image-container img {
            transition: transform 0.3s ease;
        }
        .product-image-container:hover img {
            transform: scale(1.5);
        }
        .quick-view-btn {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(43, 57, 144, 0.8);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .product-item:hover .quick-view-btn {
            opacity: 1;
        }
        .product-ratings {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 0.5rem 0;
        }
        .stars {
            color: gold;
        }
        .review-count {
            color: #666;
            font-size: 0.9em;
        }
        /* Breadcrumb styles */
        .breadcrumb-nav {
            padding: 1rem;
            background: #f5f5f5;
            margin-bottom: 1rem;
        }
        .breadcrumb-nav ol {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
        }
        .breadcrumb-nav li {
            display: flex;
            align-items: center;
        }
        .breadcrumb-nav li:not(:last-child)::after {
            content: "â€º";
            margin: 0 0.5rem;
            color: #666;
        }
        /* Quick view modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        .close-modal {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }
        /* Reviews section */
        .reviews-section {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #ddd;
        }
        .review-item {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        .reviewer-name {
            font-weight: bold;
        }
        .review-date {
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <header>
        <nav class="main-nav">
            <div class="logo">ISE Health Care Demo</div>
            <!-- ...existing navbar... -->
        </nav>
    </header>
    <main>
        <!-- Add breadcrumb navigation -->
        <nav class="breadcrumb-nav" aria-label="Breadcrumb">
            <ol>
                <li><a href="index.html">Home</a></li>
                <li id="section-crumb"></li>
                <li id="item-crumb" aria-current="page"></li>
            </ol>
        </nav>
        
        <section id="product-details">
            <!-- Product details will be rendered here -->
        </section>

        <!-- Quick view modal -->
        <div class="modal" id="quick-view-modal">
            <div class="modal-content">
                <button class="close-modal" aria-label="Close modal">&times;</button>
                <div id="quick-view-content"></div>
            </div>
        </div>
    </main>
    <script>
        // Read query parameters
        const params = new URLSearchParams(window.location.search);
        const section = params.get('section'); // e.g., brands, procedures, products, diagnostics-type, etc.
        const item = params.get('item'); // e.g., one of the diagnostic product names

        const productDetails = document.getElementById('product-details');
        
        // Render header and grid container for products
        productDetails.innerHTML = `
            <h1>${item}</h1>
            <p>Category: ${section}</p>
            <hr>
            <div class="product-grid"></div>
            <a href="index.html">Back to Home</a>
        `;

        const productGrid = document.querySelector('.product-grid');
        
        if(section === "diagnostics-type") {
            // Use new diagnostics products data with explicit image links and "Price not set"
            const diagnosticsProducts = [
                "Bioline Blood Collection Monitor",
                "Bioline Bioline India Manual Tube Stripper",
                "Maxsol Blood Tube Stripper",
                "Bioline Agglutination Viewer"
            ];
            const diagnosticsImages = [
                "https://ik.imagekit.io/z6mqjyyzz/media/public/bioline-blood-collection-monitor-box-of-1-unit-bio-20-plus-10_03_2025-aa1645c4.png?tr=w-750,q-100,f-avif",
                "https://ik.imagekit.io/z6mqjyyzz/media/public/1b6f36dbbe5c4d1b9_Maxsol-Tube-sealer.jpg?tr=w-1000,q-75,f-avif",
                "https://ik.imagekit.io/z6mqjyyzz/media/public/d489cbf6e9464a90a_MBBLOBEATUEPIGHMR9XX.jpg?tr=w-1000,q-75,f-avif",
                "https://ik.imagekit.io/z6mqjyyzz/media/public/bioline-agglutination-viewer-box-of-1-unit-bio-av-20-04_03_2025-3d9e107d.jpg?tr=w-1000,q-75,f-avif"
            ];
            let productsHTML = "";
            diagnosticsProducts.forEach((prodName, index) => {
                productsHTML += renderProduct({ name: prodName, image: diagnosticsImages[index], price: "Price not set" });
            });
            productGrid.innerHTML = productsHTML;
        } else if(section === "sub" && item === "Biochemistry") {
            // Updated Biochemistry branch after removing "Micropipette" and "Fluoride Blood Collection Tube"
            const biochemistryNames = [
                "EDTA Blood Collection Tube",
                "Biochemistry Reagent",
                "Micropipette Tip",
                "Centrifuge Tube",
                "Clot Activator Tube",
                "Sodium Citrate Blood collection Tube",
                "Coverslip",
                "Heparin Blood Collection Tube"
            ];
            const biochemistryImages = [
                "https://ik.imagekit.io/z6mqjyyzz/media/public/bradley-edta-k3-non-vacuum-blood-collection-tube-2ml-pack-of-100-pieces-bl-7000-17_02_20_8gasKYF.png?tr=w-1000,q-75,f-avif",  // EDTA Blood Collection Tube
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Biochemistry_Reagent.jpg?tr=w-150,q-60,f-avif",                         // Biochemistry Reagent
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Pipette_tips_2_Mkj8pjd.jpg?tr=w-150,q-60,f-avif",                         // Micropipette Tip
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/image_YOqaG8Y.png?tr=w-150,q-60,f-avif",                                                      // Centrifuge Tube
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Yellow-gel-tube_6CC1LGJ.jpg?tr=w-150,q-60,f-avif",                       // Clot Activator Tube
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Citrate_YiIhYbo.jpg?tr=w-150,q-60,f-avif",                             // Sodium Citrate Blood collection Tube
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Coverslip_2_O7KPlHO.jpg?tr=w-150,q-60,f-avif",                          // Coverslip
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Heparin_Ad65S0R.jpg?tr=w-150,q-60,f-avif"                               // Heparin Blood Collection Tube
            ];
            const biochemistryPrices = Array(biochemistryNames.length).fill("Price not set");
            let productsHTML = "";
            biochemistryNames.forEach((name, index) => {
                productsHTML += renderProduct({ name, image: biochemistryImages[index], price: biochemistryPrices[index] });
            });
            productGrid.innerHTML = productsHTML;
        } else if(section === "sub" && item === "Rapid Card") {
            const rapidCardNames = [
                "Other rapid card",
                "Dengue rapid card",
                "Malaria rapid card",
                "HIV rapid card",
                "Urine strip",
                "HBsAG rapid card",
                "HCV rapid card",
                "Pregnancy kit",
                "Drug testing Rapid card"
            ];
            const rapidCardPrices = Array(rapidCardNames.length).fill("Price not set");
            const rapidCardImages = [
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Rapid_card_WyHDaiT.jpg?tr=w-150,q-60,f-avif", // Other rapid card
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Dengue_Yd4W5Kv.jpg?tr=w-150,q-60,f-avif",      // Dengue rapid card
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Malaria_M0yJmXv.jpg?tr=w-150,q-60,f-avif",     // Malaria rapid card
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/HIV_wXolm4Y.jpg?tr=w-150,q-60,f-avif",         // HIV rapid card
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Urine-strip-2_FJB6r7q.jpg?tr=w-150,q-60,f-avif",// Urine strip
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/HBsab_tlvXt24.jpg?tr=w-150,q-60,f-avif",         // HBsAG rapid card
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/HCV_rapid_card_VRiyA5T.jpg?tr=w-150,q-60,f-avif",  // HCV rapid card
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/pregnancy.jpg?tr=w-150,q-60,f-avif",                                 // Pregnancy kit
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Drug_testing_Rapid_card.jpg?tr=w-150,q-60,f-avif"                        // Drug testing Rapid card
            ];
            let productsHTML = "";
            rapidCardNames.forEach((name, index) => {
                productsHTML += renderProduct({ name, image: rapidCardImages[index], price: rapidCardPrices[index] });
            });
            productGrid.innerHTML = productsHTML;
        } else if(section === "sub" && item === "Phlebotomy") {
            // Updated Phlebotomy branch with selected items only
            const phlebotomyNames = [
                "EDTA Blood Collection Tube",
                "Clot Activator Tube",
                "Sodium Citrate Blood collection Tube",
                "Heparin Blood Collection Tube"
            ];
            const phlebotomyImages = [
                "https://ik.imagekit.io/z6mqjyyzz/media/public/bradley-edta-k3-non-vacuum-blood-collection-tube-2ml-pack-of-100-pieces-bl-7000-17_02_20_8gasKYF.png?tr=w-1000,q-75,f-avif",  // EDTA Blood Collection Tube
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Yellow-gel-tube_6CC1LGJ.jpg?tr=w-150,q-60,f-avif",         // Clot Activator Tube
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Citrate_YiIhYbo.jpg?tr=w-150,q-60,f-avif",           // Sodium Citrate Blood collection Tube
                "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Heparin_Ad65S0R.jpg?tr=w-150,q-60,f-avif"             // Heparin Blood Collection Tube
            ];
            const phlebotomyPrices = Array(phlebotomyNames.length).fill("Price not set");
            let productsHTML = "";
            phlebotomyNames.forEach((name, index) => {
                productsHTML += renderProduct({ name, image: phlebotomyImages[index], price: phlebotomyPrices[index] });
            });
            productGrid.innerHTML = productsHTML;
        } else if(section === "consumables-type" && item === "Stethoscope") {
            const stethoscopes = [
                { model: "Rossmax Sprague Rappaport Stethoscope", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/d3f4d9b59ed248f7b_eb500.png?tr=w-126,q-60,f-avif" },
                { model: "3M Littmann Classic III (5806)", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/67fb3ff95ec64c4d8_5806.jpg?tr=w-126,q-60,f-avif" },
                { model: "Microtone Stethoscope", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/02231f8ef9d14f0bb_7_Microtone_Stethoscope.jpg?tr=w-126,q-60,f-avif" },
                { model: "MCP ELITE ST-EL01", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/6c4bcdfa3c0d433bb_51f8s7odzol._sl1500_.jpg?tr=w-126,q-60,f-avif" },
                { model: "3M Littmann Lightweight II S.E. (2450)", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/454c2c06715e4bc3b_3M_Littmann_Classic_III_Monitoring_Stethoscope_5811_-_Smoke_Finish_Ch_mAHHztS.jpeg?tr=w-126,q-60,f-avif" },
                { model: "Accusure Stethoscope", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/58bc4d21ca9d46ec8_ste_2.jpg?tr=w-126,q-60,f-avif" }
            ];
            let productsHTML = "";
            stethoscopes.forEach(item => {
                productsHTML += renderProduct({ name: item.model, image: item.image, price: "Price not set" });
            });
            productDetails.innerHTML = `
                <h1>Stethoscope</h1>
                <p>Category: consumables-type</p>
                <hr>
                <div class="product-grid">${productsHTML}</div>
                <a href="index.html">Back to Home</a>
            `;
        } else if(section === "consumables-type" && item === "Forceps") {
            // Updated Forceps products for "Forceps" category
            const forcepsProducts = [
                 { name: "GDC Rowe Maxillary Disimpaction Forcep Right", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/a52c2e7f3c8441fa9_Annotation_2023-06-09_141105.png?tr=w-126,q-60,f-avif", price: "Price not set" },
                 { name: "Topdent Artery Forceps", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/c2d64a9040b947a28_WhatsApp_Image_2022-12-02_at_8.38.04_PM_1.jpeg?tr=w-126,q-60,f-avif", price: "Price not set" },
                 { name: "Oracraft Upper Roots Extraction Forceps", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/cc5e7cf23549416ab_MBTACARSCLSDEDIJHG5T.jpg?tr=w-126,q-60,f-avif", price: "Price not set" },
                 { name: "Oracraft Lower Molars Extraction Forceps", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/4b99b3b8eecb4e378_88.jpg?tr=w-126,q-60,f-avif", price: "Price not set" },
                 { name: "Oracraft Lower Roots Extraction Forceps", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/ecd3370adaf64c4da_oracraftimages-96.jpg?tr=w-126,q-60,f-avif", price: "Price not set" },
                 { name: "Topdent Extraction Forceps", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/a24c3de8ee9745199_top_dent_dental_extraction_forceps_set_of_13_.jpg?tr=w-126,q-60,f-avif", price: "Price not set" }
            ];
            let productsHTML = "";
            forcepsProducts.forEach(prod => {
                 productsHTML += renderProduct(prod);
            });
            document.querySelector('.product-grid').innerHTML = productsHTML;
        } else if(section === "sub" && item === "Diagnostic Test Kit") {
            // New: Updated Diagnostic Test Kit items
            const diagnosticTestKitProducts = [
                { name: "PCR Kit", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/PCR-Kit.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Biochemistry Manual Kit", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Biochemistry-Manual-Kits.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Molecular Biology", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/Specialities/molecular.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Biochemistry", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/Specialities/biochemistry.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Reckon Hemopak G-6-PDH Test Kit", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/db58a8a2b4bc4f8ca_Reckon_2.png?tr=w-126,q-60,f-avif", price: "Price not set" },
                { name: "Accurex Autopure CRP 50 - Box of 1 Set", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/f9335b802f024a179_Autopure-CRP-3.jpg?tr=w-126,q-60,f-avif", price: "Price not set" }
            ];
            let productsHTML = "";
            diagnosticTestKitProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            document.querySelector('.product-grid').innerHTML = productsHTML;
        } else if(section === "sub" && item === "Equipment & Accessories") {
            // New: Updated Equipment & Accessories subcategories
            const equipmentAccessoriesProducts = [
                { name: "Micropipette", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Micropipette_4_hOacuUl.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Centrifuge", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Centrifuge.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Incubator", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Incubator_S4uGfO5.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Freezer", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Freezer_KIuHs8p.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Reagent bottle", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/reagent-bottle_7RY4z5w.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Refrigerator", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/refrigerator_VOW4VVP.jpg?tr=w-150,q-60,f-avif", price: "Price not set" }
            ];
            let productsHTML = "";
            equipmentAccessoriesProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            document.querySelector('.product-grid').innerHTML = productsHTML;
        } else if(section === "sub" && item === "Surgical Consumables") {
            // Updated Surgical Consumables subcategory items
            const surgicalConsumablesProducts = [
                { name: "Suture", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Suture.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Instrument Trays", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/134.Instrument-Trays_0Tc70Jh.png?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Local Anaesthetics", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/119.Local-Anaesthetics_pM3y5ks.png?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Surgical Handles", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/122.Surgical-Handles_8izIWkl.png?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Panty", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Panty.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Hemostatic Agents", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Capture.PNG?tr=w-150,q-60,f-avif", price: "Price not set" }
            ];
            let productsHTML = "";
            surgicalConsumablesProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            document.querySelector('.product-grid').innerHTML = productsHTML;
        } else if(section === "sub" && item === "Hygiene Control") {
            // Updated Hygiene Control products with new image links
            const hygieneControlProducts = [
                { name: "Adult Diaper", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Adult_Diaper.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Surgical Gloves", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/56.Surgical-Gloves_SUndVdK.png?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Examination Gloves", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Examination_Gloves.jpeg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Underpad", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Underpad.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Latex Examination Gloves", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Examination_gloves.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Gel", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Gel.jpg?tr=w-150,q-60,f-avif", price: "Price not set" }
            ];
            let productsHTML = "";
            hygieneControlProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            document.querySelector('.product-grid').innerHTML = productsHTML;
        } else if (section === "sub" && item === "Bandages & Wound") {
            const bandagesWoundProducts = [
                { name: "Dressing", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Dressing_fDE5aok.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Surgical tape", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Surgical-tape.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Bandage", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Bandage_fQzLazH.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Gauze swab", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Gauze_Swab.jpg?tr=w-150,q-60,f-avif", price: "Price not set" }
            ];
            let productsHTML = "";
            bandagesWoundProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            productGrid.innerHTML = productsHTML;
        } else if (section === "sub" && item === "Cardiology") {
            const cardiologyProducts = [
                { name: "ECG Machine", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/ECG-Machine.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Patient Monitor", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Patient-Monitor.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Defibrillator", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Defibrillator_WsGTUN7.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Patient Monitor Accessories", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Images/NewGenericNames/Patient-Monitor-Accessories.jpg?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "BPL Single Channel ECG Machine", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/95876350a6be49b79_MBBPLM0010.jpg?tr=w-126,q-60,f-avif", price: "Price not set" },
                { name: "BPL Three Channel ECG Machine", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/bpl-three-channel-ecg-machine-cardiart-7108-17_02_2025-4fbc4d0a.jpg?tr=w-126,q-60,f-avif", price: "Price not set" }
            ];
            let productsHTML = "";
            cardiologyProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            productGrid.innerHTML = productsHTML;
        } else if (section === "sub" && item === "Ophthalmology") {
            const ophthalmologyProducts = [
                { name: "Sugra Led Acuity Vision Chart", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/42b22b00e6694debb_Screenshot_2024-11-04_122219-removebg-preview.png?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Sugra Distance Vision Drum", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/d2ea1bc231e34371b_8.webp?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Sugra Loose Prism Set", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/8f9d99798b7f4db7b_image.png?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Sugra Led Vision Chart", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/aac25588a8464ecc9_led-vision-chart-768x879.webp?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Sugra Trial Lens Set Golden and Silver", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/8e8385af3a654252b_image.png?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Sugra Prism Bar Set", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/f237ae90243f4842b_51.webp?tr=w-150,q-60,f-avif", price: "Price not set" }
            ];
            let productsHTML = "";
            ophthalmologyProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            productGrid.innerHTML = productsHTML;
        } else if (section === "main" && item === "Ophthalmology") {
            const ophthalmologyProducts = [
                { name: "Sugra Led Acuity Vision Chart", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/42b22b00e6694debb_Screenshot_2024-11-04_122219-removebg-preview.png?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Sugra Distance Vision Drum", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/d2ea1bc231e34371b_8.webp?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Sugra Loose Prism Set", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/8f9d99798b7f4db7b_image.png?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Sugra Led Vision Chart", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/aac25588a8464ecc9_led-vision-chart-768x879.webp?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Sugra Trial Lens Set Golden and Silver", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/8e8385af3a654252b_image.png?tr=w-150,q-60,f-avif", price: "Price not set" },
                { name: "Sugra Prism Bar Set", image: "https://ik.imagekit.io/z6mqjyyzz/media/public/f237ae90243f4842b_51.webp?tr=w-150,q-60,f-avif", price: "Price not set" }
            ];
            let productsHTML = "";
            ophthalmologyProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            productGrid.innerHTML = productsHTML;
        } else if (section === "main" && item === "Nephrology") {
            const nephrologyProducts = [
                { 
                    name: "Dialysis Machines",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Dialysis_Machines.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Dialyzers",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Dialyzers_XHGSasS.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Dialysis Catheters",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Dialysis_Catheters.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Blood Tubing Sets",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Blood_Tubing_Sets.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Fistula Needles",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Fistula_Needles.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Dialysis Disinfectants",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Dialysis_Disinfectants.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                }
            ];
            
            let productsHTML = "";
            nephrologyProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            productGrid.innerHTML = productsHTML;

        } else if (section === "main" && item === "Physiotherapy") {
            const physiotherapyProducts = [
                { 
                    name: "Neoprene Products",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Neoprene_Products.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Knee Support",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Knee_Support.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Body Belts & Braces",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Body_Belts__Braces_copy.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Allied Products",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Allied_Products.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Cervical Aids",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Cervical_Aids.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Compression Stockings",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Compression_Stockings_xwGrt7G.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                }
            ];
            
            let productsHTML = "";
            physiotherapyProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            productGrid.innerHTML = productsHTML;

        } else if (section === "main" && item === "Refurbished Devices") {
            const refurbishedDevicesProducts = [
                { 
                    name: "Ultrasound",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Ultrasound.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "CT Scanners",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/CT_Scanners.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "MRI",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/MRI.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Cathlab",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/CATHLAB.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Ventilator",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/Ventilator.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "CPR",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/default_images/CPR.png?tr=w-128,q-60,f-avif",
                    price: "Price not set"
                }
            ];
            
            let productsHTML = "";
            refurbishedDevicesProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            productGrid.innerHTML = productsHTML;

        } else if(section === "dental-procedures" && item === "Crown & Bridge") {
            const crownAndBridgeProducts = [
                { 
                    name: "Mani Straight Fissure (SF) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/b8d07d6d542548d39_mani_sf.png?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Zhermack Tropicalgin Dental Alginate",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/be82d85ff0b84ca1b_tropicalgin.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Mani Taper Fissure (TF) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/eedb8640bc2a495e9_diamond_burs_fg_tf_1.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Mani Ball Round (BR) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/3e5b803d322d48b6b_diamond_burs_fg_br_1.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Prime Dental Algingum Dental Alginate",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/9ec153f5baf44c198_MBLPILLSCLSDEDJCO247.png?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "DPI Algitex Dental Alginate",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/3346936a13444122b_algitex-1.JPG?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                }
            ];
            let productsHTML = "";
            crownAndBridgeProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            document.querySelector('.product-grid').innerHTML = productsHTML;
        } else if(section === "dental-procedures" && item === "Amalgam Restoration") {
            const amalgamRestorationProducts = [
                { 
                    name: "Mani Straight Fissure (SF) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/b8d07d6d542548d39_mani_sf.png?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Mani Taper Fissure (TF) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/eedb8640bc2a495e9_diamond_burs_fg_tf_1.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Mani Ball Round (BR) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/3e5b803d322d48b6b_diamond_burs_fg_br_1.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Mani Taper Round End (TR) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/cc0d21db7c7d497bb_diamond_burs_fg_tr_1cs.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Mani Extra Shape (EX) (Special) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/f9881c99977746689_diamond_burs_fg_ex_1.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Mani Taper Conical End (TC) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/70b381fe6edb4fda8_diamond_burs_fg_tc_1.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                }
            ];
            let productsHTML = "";
            amalgamRestorationProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            document.querySelector('.product-grid').innerHTML = productsHTML;
        } else if(section === "dental-procedures" && item === "Crown Preparation") {
            const crownPreparationProducts = [
                { 
                    name: "Mani Straight Fissure (SF) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/b8d07d6d542548d39_mani_sf.png?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Zhermack Tropicalgin Dental Alginate",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/be82d85ff0b84ca1b_tropicalgin.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Mani Taper Fissure (TF) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/eedb8640bc2a495e9_diamond_burs_fg_tf_1.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Mani Ball Round (BR) Series Regular Shank Diamond Burs",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/3e5b803d322d48b6b_diamond_burs_fg_br_1.jpg?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "Prime Dental Algingum Dental Alginate",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/9ec153f5baf44c198_MBLPILLSCLSDEDJCO247.png?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                },
                { 
                    name: "DPI Algitex Dental Alginate",
                    image: "https://ik.imagekit.io/z6mqjyyzz/media/public/3346936a13444122b_algitex-1.JPG?tr=w-126,q-60,f-avif",
                    price: "Price not set"
                }
            ];
            let productsHTML = "";
            crownPreparationProducts.forEach(prod => {
                productsHTML += renderProduct(prod);
            });
            document.querySelector('.product-grid').innerHTML = productsHTML;
        } else {
            const numberOfProducts = 6;
            let productsHTML = '';
            for (let i = 1; i <= numberOfProducts; i++) {
                const price = "$" + (Math.random() * 100 + 10).toFixed(2);
                productsHTML += renderProduct({ 
                    name: `${item} ${i}`, 
                    image: `https://via.placeholder.com/150?text=${encodeURIComponent(item + ' ' + i)}`, 
                    price 
                });
            }
            productGrid.innerHTML = productsHTML;
        }

        // Enhanced product rendering with ratings and reviews
        function renderProduct(product) {
            const randomRating = (Math.random() * 2 + 3).toFixed(1); // Random rating between 3 and 5
            const randomReviews = Math.floor(Math.random() * 50) + 1; // Random number of reviews

            return `
                <div class="product-item">
                    <div class="product-image-container">
                        <img src="${product.image}" alt="${product.name}">
                        <button class="quick-view-btn" onclick="showQuickView(${JSON.stringify(product)})" aria-label="Quick view ${product.name}">
                            Quick View
                        </button>
                    </div>
                    <h3>${product.name}</h3>
                    <div class="product-ratings">
                        <div class="stars" aria-label="Rating: ${randomRating} out of 5 stars">
                            ${'â˜…'.repeat(Math.floor(randomRating))}${randomRating % 1 >= 0.5 ? 'Â½' : ''}${'â˜†'.repeat(5 - Math.ceil(randomRating))}
                        </div>
                        <span class="review-count">(${randomReviews} reviews)</span>
                    </div>
                    <p>${product.price}</p>
                </div>
            `;
        }

        function showQuickView(product) {
            const modal = document.getElementById('quick-view-modal');
            const content = document.getElementById('quick-view-content');
            
            // Generate some mock reviews
            const reviews = Array(3).fill().map(() => ({
                name: ['John D.', 'Sarah M.', 'Mike R.', 'Emily L.'][Math.floor(Math.random() * 4)],
                rating: (Math.random() * 2 + 3).toFixed(1),
                date: new Date(Date.now() - Math.random() * 10000000000).toLocaleDateString(),
                text: ['Great product!', 'Very satisfied with the quality.', 'Exactly what I needed.'][Math.floor(Math.random() * 3)]
            }));

            content.innerHTML = `
                <h2>${product.name}</h2>
                <div class="product-image-container">
                    <img src="${product.image}" alt="${product.name}" style="width: 100%; max-width: 300px;">
                </div>
                <p>${product.price}</p>
                <div class="reviews-section">
                    <h3>Customer Reviews</h3>
                    ${reviews.map(review => `
                        <div class="review-item">
                            <div class="review-header">
                                <span class="reviewer-name">${review.name}</span>
                                <span class="review-date">${review.date}</span>
                            </div>
                            <div class="stars">
                                ${'â˜…'.repeat(Math.floor(review.rating))}${review.rating % 1 >= 0.5 ? 'Â½' : ''}${'â˜†'.repeat(5 - Math.ceil(review.rating))}
                            </div>
                            <p>${review.text}</p>
                        </div>
                    `).join('')}
                </div>
            `;
            
            modal.style.display = 'flex';
        }

        // Close modal when clicking outside
        document.getElementById('quick-view-modal').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) {
                e.target.style.display = 'none';
            }
        });

        document.querySelector('.close-modal').addEventListener('click', () => {
            document.getElementById('quick-view-modal').style.display = 'none';
        });

        // Update breadcrumbs
        document.getElementById('section-crumb').textContent = section || 'Categories';
        document.getElementById('item-crumb').textContent = item;

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.getElementById('quick-view-modal').style.display = 'none';
            }
        });
    </script>
</body>
</html>
